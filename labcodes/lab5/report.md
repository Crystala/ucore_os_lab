1. 加载应用程序并执行
实现过程
  将栈帧对应内容填入即可。
创建一个用户态进程并加载了应用程序后，CPU是如何让这个应用程序最终在用户态执行起来的？
  (1)调用mm_create函数来申请进程的内存管理数据结构mm所需内存空间，并对mm进行初始化；
  (2)调用setup_pgdir来申请一个页目录表所需的一个页大小的内存空间，并把描述ucore内核虚空间映射的内核页表（boot_pgdir所指）的内容拷贝到此新目录表中，最后让mm->pgdir指向此页目录表；
  (3)根据应用程序执行码的起始位置来解析此ELF格式的执行程序，并调用mm_map函数根据ELF格式的执行程序说明的各个段（代码段、数据段、BSS段等）的起始位置和大小建立对应的vma结构，并把vma插入到mm结构中，从而表明了用户进程的合法用户态虚拟地址空间；
  (4)调用根据执行程序各个段的大小分配物理内存空间，并根据执行程序各个段的起始位置确定虚拟地址，并在页表中建立好物理地址和虚拟地址的映射关系，然后把执行程序各个段的内容拷贝到相应的内核虚拟地址中；
  (5)调用mm_mmap函数建立用户栈的vma结构，明确用户栈的位置在用户虚空间的顶端，大小为256个页，即1MB，并分配一定数量的物理内存且建立好栈的虚地址-物理地址映射关系；
  (6)把mm->pgdir赋值到cr3寄存器中，更新用户进程的虚拟内存空间，；
  (7)先清空进程的中断帧，再重新设置进程的中断帧，使得在执行中断返回指令“iret”后，能够让CPU转到用户态特权级，并回到用户态内存空间，使用用户态的代码段、数据段和堆栈，且能够跳转到用户进程的第一条指令执行，并确保在用户态能够响应中断；

2. 父进程复制自己的内存空间给子进程
如何设计实现"Copy on Write 机制"？
  1.fork时的代码需要调整，copy_range无需真正的执行任何内存复制操作。同时，CoW目标页表项的权限需要被设置成只读，在用户进程对其进行修改时引发页错误。
  2.页错误的处理需要调整。合理的页错误除了内存未分配、数据位于交换分区之外，还要加入COW机制处于共享状态这一原因。此时应当为其中一个进程分配新的物理页面，执行页面拷贝，并且恢复页面的写权限。

3. 阅读分析源代码，理解进程执行 fork/exec/wait/exit 的实现，以及系统调用的实现
  fork:创建除了idle和init之外的进程，返回值(eax)为0。
  exec:同上，但是返回值(eax)为1。
  wait:令进程陷入PROC_SLEEPING状态，等待某个子进程指定进程，直到该进程进入PROC_ZOMBIE状态。
  exit:令当前进程陷入PROC_ZOMBIE状态，之后唤醒其父进程，删除ZOMBIE，最后进行进程调度。
请给出ucore中一个用户态进程的执行状态生命周期图（包执行状态，执行状态之间的变换关系，以及产生变换的事件或函数调用）。
  alloc_proc                                 RUNNING
      |                                   +--<----<--+
      |                                      + proc_run +
      V                                   +-->---->--+
  PROC_UNINIT -- proc_init/wakeup_proc --> PROC_RUNNABLE -- try_free_pages/do_wait/do_sleep --> PROC_SLEEPING -
                                           ^      +                                                           |
                                           |      +--- do_exit --> PROC_ZOMBIE                                |
                                           |                                                                  |
                                           -----------------------wakeup_proc----------------------------------
